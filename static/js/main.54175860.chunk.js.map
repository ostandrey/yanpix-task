{"version":3,"sources":["constants/api.constants.js","constants/photos.constants.js","actions/photos.action.js","components/photos-list-item.js","components/photo-info.js","components/photos-list.js","App.js","reportWebVitals.js","reducers/photos.reducer.js","store/index.js","index.js"],"names":["apiPath","PHOTOS","apiUrl","PhotosActions","getPhotos","page","dispatch","getPhotosStarted","axios","get","config","ACCESS_KEY","then","res","getPhotosSuccess","data","catch","error","getPhotosError","type","payload","authors","PhotosListItem","photo","removePhoto","getPhotoInfo","className","src","user","profile_image","small","alt","name","urls","full","alt_description","data-bs-toggle","data-bs-target","onClick","PhotoInfo","id","tabIndex","aria-labelledby","aria-hidden","likes","views","Moment","created_at","format","width","height","description","data-bs-dismiss","PhotosList","useDispatch","useSelector","state","photos","isLoading","useEffect","length","style","role","dataLength","next","hasMore","loader","map","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","photosReducer","action","filter","createStore","applyMiddleware","thunk","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.54175860.chunk.js","sourcesContent":["const apiUrl = 'https://api.unsplash.com';\r\n\r\nexport const apiPath = {\r\n    PHOTOS: apiUrl + '/photos'\r\n};\r\n","export const PhotosActions = {\r\n    PHOTOS_REQUEST: 'PHOTOS_REQUEST',\r\n    PHOTOS_REQUEST_SUCCESS: 'PHOTOS_REQUEST_SUCCESS',\r\n    PHOTOS_REQUEST_ERROR: 'PHOTOS_REQUEST_ERROR',\r\n    PHOTOS_DELETE: 'PHOTOS_DELETE',\r\n    PHOTO_INFO: 'PHOTO_INFO'\r\n};\r\n","import axios from \"axios\";\r\nimport {PhotosActions, apiPath} from \"../constants\";\r\nimport config from \"../config\"\r\n\r\n\r\nexport const getPhotos = (page = 1) => {\r\n    return(dispatch) => {\r\n        dispatch(getPhotosStarted(page));\r\n        axios.get(`${apiPath.PHOTOS}?client_id=${config.ACCESS_KEY}&page=${page}`)\r\n            .then(res => {dispatch(getPhotosSuccess(res.data))})\r\n            .catch(error => {dispatch(getPhotosError(error))})\r\n    }\r\n};\r\n\r\nconst getPhotosStarted = (page) => ({\r\n    type: PhotosActions.PHOTOS_REQUEST,\r\n    payload: page\r\n});\r\n\r\nconst getPhotosSuccess = (authors) => ({\r\n    type: PhotosActions.PHOTOS_REQUEST_SUCCESS,\r\n    payload: authors\r\n});\r\n\r\nconst getPhotosError = (error) => ({\r\n    type: PhotosActions.PHOTOS_REQUEST_ERROR,\r\n    payload: error\r\n});\r\n\r\nexport const removePhoto = (id) => ({\r\n    type: PhotosActions.PHOTOS_DELETE,\r\n    payload: id\r\n});\r\n\r\nexport const getPhotoInfo = (photo) => ({\r\n    type: PhotosActions.PHOTO_INFO,\r\n    payload: photo\r\n});\r\n\r\nexport default getPhotos()\r\n","import React from 'react'\r\n\r\nconst PhotosListItem = ({photo, removePhoto, getPhotoInfo}) => {\r\n    return(\r\n        <li className=\"list-group-item\">\r\n            <div className=\"d-flex m-2 \">\r\n                <img src={photo.user.profile_image.small}\r\n                     alt=\"User profile image\"\r\n                     className=\"rounded-circle img-fluid\" />\r\n                <div className=\"d-flex flex-column ms-2\">\r\n                    <h5 className=\"mx-auto\">{photo.user.name}</h5>\r\n                    {/*<p className=\"bio text-muted lead\"><small>{photo.user.bio}</small></p>*/}\r\n                </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n                <img src={photo.urls.full} className=\"img-fluid rounded\" alt={photo.alt_description}/>\r\n            </div>\r\n            <div className=\"d-flex justify-content-end mt-2\">\r\n                <button type=\"button\"\r\n                        className=\"btn btn-outline-primary me-2\"\r\n                        data-bs-toggle=\"modal\"\r\n                        data-bs-target=\"#exampleModal\"\r\n                        onClick={() => getPhotoInfo()}\r\n                >\r\n                    Info\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-danger\"\r\n                    onClick={() => removePhoto()}\r\n                >\r\n                    Delete\r\n                </button>\r\n            </div>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default PhotosListItem;\r\n","import React from 'react'\r\nimport Moment from 'moment'\r\n\r\nconst PhotoInfo = ({photo}) => {\r\n    return (\r\n        <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n             aria-hidden=\"true\">\r\n            <div className=\"modal-dialog modal-dialog-centered\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-body\">\r\n                        {\r\n                            photo\r\n                                ?\r\n                                <>\r\n                                    <div className=\"text-center\">\r\n                                        <img\r\n                                            src={photo.urls.full}\r\n                                            className=\"img-fluid rounded image-info\"\r\n                                            alt={photo.alt_description}/>\r\n                                    </div>\r\n\r\n                                    <div className=\"d-flex column mt-2\">\r\n                                        <p className=\"me-5\">Likes: {photo.likes}</p>\r\n                                        <p className=\"me-5\">Views: {photo.views}</p>\r\n                                        <p>Created at: {Moment(photo.created_at).format('d MMM yyyy')}</p>\r\n                                    </div>\r\n                                    <div className=\"d-flex column\">\r\n                                        <p className=\"me-5\">Width: {photo.width}</p>\r\n                                        <p>Height: {photo.height}</p>\r\n                                    </div>\r\n                                    <p>About photo: {photo.description}</p>\r\n                                </>\r\n                                :\r\n                                    <p>Photo is empty</p>\r\n                        }\r\n\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\"\r\n                                data-bs-dismiss=\"modal\">Close\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default PhotoInfo;\r\n\r\n","import React, {useEffect} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {getPhotoInfo, getPhotos, removePhoto} from \"../actions/photos.action\";\r\nimport PhotosListItem from \"./photos-list-item\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport PhotoInfo from \"./photo-info\";\r\n\r\nconst PhotosList = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { photos, isLoading, photo, page } = useSelector((state) => state);\r\n    useEffect(() => {\r\n        dispatch(getPhotos());\r\n    }, [dispatch]);\r\n\r\n    return(\r\n        <>{\r\n            isLoading && photos.length === 0\r\n            ?\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <div className=\"spinner-border text-light\" style={{width: \"3rem\", height: \"3rem\"}} role=\"status\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            :\r\n                <div>\r\n                    <ul className=\"list-group\">\r\n                        <InfiniteScroll\r\n                            dataLength={photos.length}\r\n                            next={() => { dispatch(getPhotos(page + 1)); }}\r\n                            hasMore={true}\r\n                            loader={<p>Loading...</p>}\r\n                        >\r\n                            {\r\n                                photos.map( photo =>\r\n                                    <PhotosListItem\r\n                                        key={photo.id}\r\n                                        photo={photo}\r\n                                        removePhoto={() => dispatch(removePhoto(photo.id))}\r\n                                        getPhotoInfo={() => dispatch(getPhotoInfo(photo))}\r\n                                    />)\r\n                            }\r\n                        </InfiniteScroll>\r\n                    </ul>\r\n                    <PhotoInfo\r\n                        photo={photo}\r\n                    />\r\n                </div>\r\n        }</>\r\n    )\r\n};\r\n\r\nexport default PhotosList\r\n","import React from \"react\";\r\nimport './App.css';\r\nimport PhotosList from \"./components/photos-list\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"container mt-4 shadow-lg p-3 mb-5 rounded w-90 bg-white content-wrapper\">\r\n        <h1 className=\"text-center title\">Yanpix Photos</h1>\r\n        <PhotosList/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { PhotosActions } from \"../constants/photos.constants\";\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    photos: [],\r\n    photo: null,\r\n    page: 1,\r\n    error: null\r\n};\r\n\r\nconst photosReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case PhotosActions.PHOTOS_REQUEST:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                photos: [...state.photos],\r\n                page: action.payload,\r\n                error: null\r\n            };\r\n        case PhotosActions.PHOTOS_REQUEST_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                photos: [...state.photos, ...action.payload],\r\n                error: null\r\n            };\r\n        case PhotosActions.PHOTOS_REQUEST_ERROR:\r\n            return {\r\n                isLoading: false,\r\n                photos: [],\r\n                error: action.payload\r\n            };\r\n        case PhotosActions.PHOTOS_DELETE:\r\n            return {\r\n                ...state,\r\n                photos: state.photos.filter(photo => photo.id !== action.payload)\r\n            };\r\n        case PhotosActions.PHOTO_INFO:\r\n            return {\r\n                ...state,\r\n                photo: action.payload\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default photosReducer\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport photosReducer from \"../reducers/photos.reducer\";\r\n\r\nexport default createStore(photosReducer, applyMiddleware(thunk));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './store';\r\nimport {Provider} from 'react-redux'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}