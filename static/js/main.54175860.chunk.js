(this["webpackJsonpyanpix-task"]=this["webpackJsonpyanpix-task"]||[]).push([[0],{22:function(e){e.exports=JSON.parse('{"ACCESS_KEY":"I-GjKXR7z6Y8HAKyutYLFbKpftAZb5CfQsppNhjlrBk"}')},30:function(e,t,n){},31:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(6),s=n.n(a),o=(n(30),n(31),n(5)),i=n(21),l=n.n(i),r={PHOTOS:"https://api.unsplash.com/photos"},d="PHOTOS_REQUEST",j="PHOTOS_REQUEST_SUCCESS",u="PHOTOS_REQUEST_ERROR",h="PHOTOS_DELETE",b="PHOTO_INFO",p=n(22),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){t(O(e)),l.a.get("".concat(r.PHOTOS,"?client_id=").concat(p.ACCESS_KEY,"&page=").concat(e)).then((function(e){t(x(e.data))})).catch((function(e){t(f(e))}))}},O=function(e){return{type:d,payload:e}},x=function(e){return{type:j,payload:e}},f=function(e){return{type:u,payload:e}},g=(m(),n(1)),y=function(e){var t=e.photo,n=e.removePhoto,c=e.getPhotoInfo;return Object(g.jsxs)("li",{className:"list-group-item",children:[Object(g.jsxs)("div",{className:"d-flex m-2 ",children:[Object(g.jsx)("img",{src:t.user.profile_image.small,alt:"User profile image",className:"rounded-circle img-fluid"}),Object(g.jsx)("div",{className:"d-flex flex-column ms-2",children:Object(g.jsx)("h5",{className:"mx-auto",children:t.user.name})})]}),Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("img",{src:t.urls.full,className:"img-fluid rounded",alt:t.alt_description})}),Object(g.jsxs)("div",{className:"d-flex justify-content-end mt-2",children:[Object(g.jsx)("button",{type:"button",className:"btn btn-outline-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:function(){return c()},children:"Info"}),Object(g.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return n()},children:"Delete"})]})]})},N=n(23),v=n(24),S=n.n(v),E=function(e){var t=e.photo;return Object(g.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(g.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)("div",{className:"modal-body",children:t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("img",{src:t.urls.full,className:"img-fluid rounded image-info",alt:t.alt_description})}),Object(g.jsxs)("div",{className:"d-flex column mt-2",children:[Object(g.jsxs)("p",{className:"me-5",children:["Likes: ",t.likes]}),Object(g.jsxs)("p",{className:"me-5",children:["Views: ",t.views]}),Object(g.jsxs)("p",{children:["Created at: ",S()(t.created_at).format("d MMM yyyy")]})]}),Object(g.jsxs)("div",{className:"d-flex column",children:[Object(g.jsxs)("p",{className:"me-5",children:["Width: ",t.width]}),Object(g.jsxs)("p",{children:["Height: ",t.height]})]}),Object(g.jsxs)("p",{children:["About photo: ",t.description]})]}):Object(g.jsx)("p",{children:"Photo is empty"})}),Object(g.jsx)("div",{className:"modal-footer",children:Object(g.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})},P=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e})),n=t.photos,a=t.isLoading,s=t.photo,i=t.page;return Object(c.useEffect)((function(){e(m())}),[e]),Object(g.jsx)(g.Fragment,{children:a&&0===n.length?Object(g.jsx)("div",{className:"d-flex justify-content-center",children:Object(g.jsx)("div",{className:"spinner-border text-light",style:{width:"3rem",height:"3rem"},role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsxs)("div",{children:[Object(g.jsx)("ul",{className:"list-group",children:Object(g.jsx)(N.a,{dataLength:n.length,next:function(){e(m(i+1))},hasMore:!0,loader:Object(g.jsx)("p",{children:"Loading..."}),children:n.map((function(t){return Object(g.jsx)(y,{photo:t,removePhoto:function(){return e((n=t.id,{type:h,payload:n}));var n},getPhotoInfo:function(){return e(function(e){return{type:b,payload:e}}(t))}},t.id)}))})}),Object(g.jsx)(E,{photo:s})]})})};var C=function(){return Object(g.jsxs)("div",{className:"container mt-4 shadow-lg p-3 mb-5 rounded w-90 bg-white content-wrapper",children:[Object(g.jsx)("h1",{className:"text-center title",children:"Yanpix Photos"}),Object(g.jsx)(P,{})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))},_=n(4),T=n(25),w=n(7),k=n(3),H={isLoading:!1,photos:[],photo:null,page:1,error:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(k.a)(Object(k.a)({},e),{},{isLoading:!0,photos:Object(w.a)(e.photos),page:t.payload,error:null});case j:return Object(k.a)(Object(k.a)({},e),{},{isLoading:!1,photos:[].concat(Object(w.a)(e.photos),Object(w.a)(t.payload)),error:null});case u:return{isLoading:!1,photos:[],error:t.payload};case h:return Object(k.a)(Object(k.a)({},e),{},{photos:e.photos.filter((function(e){return e.id!==t.payload}))});case b:return Object(k.a)(Object(k.a)({},e),{},{photo:t.payload});default:return e}},I=Object(_.c)(F,Object(_.a)(T.a));s.a.render(Object(g.jsx)(o.a,{store:I,children:Object(g.jsx)(C,{})}),document.getElementById("root")),L()}},[[58,1,2]]]);
//# sourceMappingURL=main.54175860.chunk.js.map